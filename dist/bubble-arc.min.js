!function e(t,n,r){function o(i,l){if(!n[i]){if(!t[i]){var a="function"==typeof require&&require;if(!l&&a)return a(i,!0);if(s)return s(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[i]={exports:{}};t[i][0].call(c.exports,function(e){var n=t[i][1][e];return o(n?n:e)},c,c.exports,e,t,n,r)}return n[i].exports}for(var s="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(e,t,n){var r,o,s,i,l,a;r=window.jQuery,l=e("./helpers.coffee"),a=e("./support.coffee"),s=e("./circle.coffee"),i=e("./circle-collection.coffee"),o=function(){function e(e){null==e&&(e={}),this.options=this.defaults(e,{classes:"center",radius:[6,"em"],degrees:360,fillLast:!1,align:"center",offset:90}),this.el=r("<div>").addClass(this.options.classes),this.circles=new i,this.animations(!0)}return e.helpers=l,e.supports=a,e.prototype.defaults=function(e,t){var n,r;for(n in t)r=t[n],null==e[n]&&(e[n]=r);return e},e.prototype.animations=function(e){var t;return null!=e?(t=r.Deferred(),this.animation=e,setTimeout(function(){return t.resolve()}),t):this.animation&&a.transition},e.prototype.getOption=function(e){return this.options[e]},e.prototype.setOption=function(e,t){return this.options[e]=t,this},e.prototype.setOptions=function(e){var t,n;for(t in e)n=e[t],this.setOption(t,n);return this},e.prototype.setCollection=function(e,t){var n,o,s;return null==t&&(t=!0),n=r.Deferred(),this.circles=e,this.el.children(".circle").remove(),this.el.append(this.circles.get()),o=r.Deferred(),t?(s=[],this.circles.each(function(e){var t;return e.addClass("notrans"),e.addClass("collapsed"),t=r.Deferred(),s.push(t),setTimeout(function(){return e.removeClass("notrans"),t.resolve()})}),r.when.apply(r,s).then(function(e){return function(){return e.arrangeAll().then(function(){return o.resolve()})}}(this))):this.arrangeAll().then(function(){return o.resolve()}),o.then(function(){return n.resolve()}),n},e.prototype.dom=function(){return this.el},e.prototype.pause=function(e){var t;return t=r.Deferred(),setTimeout(function(){return t.resolve()},e),t},e.prototype.splitArc=function(e){var t,n,r,o,s,i,l,a;for(null==e&&(e=this.size()),r=this.options.fillLast?e-1:e,o=[],n=this.options.degrees,s=0!==r?n/r:0,t={first:0,center:r/2,last:r},i=l=1,a=e;a>=1?a>=l:l>=a;i=a>=1?++l:--l)o.push((i-1)*s+this.options.offset-t[this.options.align]*s);return o},e.prototype.arrange=function(e,t,n,o){var s,i,u,c,f;return null==o&&(o="px"),i=r.Deferred(),a.transform?(u=l.deg2coords(t),c=u[0],f=u[1],this.animations()===!1&&e.addClass("notrans"),e.outerLabelEl.removeClass("top bottom left right"),e.outerLabelEl.addClass("auto"===e.direction?Math.abs(c)>Math.abs(f)?c>0?"right":"left":f>0?"bottom":"top":"vertical"===e.direction?f>0?"bottom":"top":c>0?"right":"left"),s=e[0].style[l.transform],e.css(l.transform,"translateX("+c*n+o+") translateY("+f*n+o+")"),e.find(".edge").css(l.transform,"rotate("+(t+180)+"deg)"),setTimeout(function(t){return function(){return t.animations()?s===e[0].style[l.transform]||null==s||0===s.length?(e.removeClass("notrans"),i.resolve()):e.on(l.transitionEvent,function(){return e.removeClass("notrans"),i.resolve()}):(e.removeClass("notrans"),i.resolve())}}(this)),i):(i.resolve(),i)},e.prototype.arrangeAll=function(e,t){var n,o,s;return null==e&&(e=this.options.radius[0]),null==t&&(t=this.options.radius[1]),n=this.splitArc(),o=r.Deferred(),s=[],this.circles.each(function(r){return function(o,i){return s.push(r.arrange(o,n[i],e,t))}}(this)),r.when.apply(r,s).then(function(){return o.resolve()}),o},e.prototype.collapse=function(){var e,t,n;return t=!this.animations(),n=r.Deferred(),e=[],this.circles.each(function(n,o){var s,i;return i=r.Deferred(),e.push(i),s=n[0].style[l.transform],t&&n.addClass("notrans"),setTimeout(function(){return n.removeClass("expanding"),a.transition?s===n.css(l.transform)||t?(n.addClass("collapsed"),i.resolve()):(n.addClass("collapsed"),n.on(l.transitionEvent,function(){return i.resolve()})):(n.addClass("collapsed"),i.resolve()),setTimeout(function(){return n.removeClass("notrans")})})}),r.when.apply(r,e).then(function(){return n.resolve()}),n},e.prototype.expand=function(){var e,t,n;return t=!this.animations(),n=r.Deferred(),e=[],this.circles.each(function(n,o){var s,i;return i=r.Deferred(),e.push(i),s=n[0].style[l.transform],t&&n.addClass("notrans"),setTimeout(function(){return a.transition?s===n[0].style[l.transform]||t?(n.removeClass("collapsed").addClass("expanding"),i.resolve()):n.addClass("expanding").removeClass("collapsed").on(l.transitionEvent,function(){return i.resolve()}):(n.removeClass("collapsed"),i.resolve()),setTimeout(function(){return n.removeClass("notrans")})})}),r.when.apply(r,e).then(function(){return n.resolve()}),n},e.prototype.size=function(){return this.circles.size()},e.prototype.add=function(e,t){var n;return n=this.circles.add(e,t),n instanceof Array||(n=[n]),n.forEach(function(e){return function(t,n){return e.circles.get()[n].addClass("in"),e.el.append(e.circles.get()[n])}}(this)),this.arrangeAll()},e.prototype.remove=function(e){return this.circles.remove(e),this.arrangeAll()},e.prototype.removeFirst=function(){return this.circles.removeFirst(),this.arrangeAll()},e.prototype.removeLast=function(){return this.circles.removeLast(),this.arrangeAll()},e.prototype.reverse=function(){return this.circles.reverse(),this.arrangeAll()},e}(),t.exports=o},{"./circle-collection.coffee":2,"./circle.coffee":3,"./helpers.coffee":4,"./support.coffee":5}],2:[function(e,t,n){var r,o,s;r=window.jQuery,o=e("./circle.coffee"),s=function(){function e(e){var t,n,r,s,i;if(null==e&&(e=[]),"number"==typeof e)for(s=e,e=[],n=r=1,i=s;i>=1?i>=r:r>=i;n=i>=1?++r:--r)t=o.create().innerLabel(n),e.push(t);this.elements=e}return e.prototype.each=function(e){return this.elements.forEach(e)},e.prototype.size=function(){return this.elements.length},e.prototype.append=function(e){return this.add(e,this.size())},e.prototype.add=function(e,t){var n,r,o;if(e instanceof Array){o=[];for(r in e)n=e[r],this.add(n,t+r),o.push(t+r);return o}return this.elements.splice(t,0,e),t},e.prototype.remove=function(e){var t,n,o,s;return"number"==typeof e?(s=e,o=this.elements.splice(s,1)):(s=this.elements.indexOf(e),o=this.elements.splice(s,1)),t=r("body"),o=o[0],n=o.clone(),n.removeClass("notrans").css({position:"absolute",top:o.offset().top+t.scrollTop(),left:o.offset().left+t.scrollLeft(),zIndex:99}).css(Helpers.transform,"none"),setTimeout(function(){return n.addClass("out"),n.on(Helpers.animationEvent,function(){return n.remove()})}),t.prepend(n),o.remove(),s},e.prototype.removeLast=function(){return this.remove(this.elements.length-1)},e.prototype.removeFirst=function(){return this.remove(0)},e.prototype.get=function(){return this.elements},e.prototype.reverse=function(){return this.elements=this.elements.reverse()},e}(),t.exports=s},{"./circle.coffee":3}],3:[function(e,t,n){var r,o;r=window.jQuery,o=function(){function e(e){var t,n,o;this.triangle=null!=e?e:!0,t=r("<a>").addClass("circle"),this.triangle&&(n=r("<div>").addClass("edge"),o=r("<div>").addClass("triangle").appendTo(n),t.append(n)),this.outerLabelEl=r("<div>").addClass("outer-label"),this.innerLabelEl=r("<div>").addClass("inner-label"),t.append([this.outerLabelEl,this.innerLabelEl]),this.el=t}return e.create=function(t){var n;return null==t&&(t=!0),n=new e(t),n.el.innerLabel=function(e){return n.innerLabel(e)},n.el.outerLabel=function(e,t){return n.outerLabel(e,t)},n.el.color=function(e){return n.color(e)},n.el.link=function(e){return n.el.attr("href",e)},n.el.unlink=function(){return n.el.removeAttr("href")},n.el.outerLabelEl=n.outerLabelEl,n.el.innerLabelEl=n.innerLabelEl,n.el.clickable=function(e){var t,o,s;return o=Supports.touch?"tap":"click",s=Supports.touch?"touchstart":"mousedown",t=Supports.touch?"touchend":"mouseup",n.el.off(o),e===!1?n.el.removeClass("clickable"):(n.el.on(s,function(){var e,o;return e=n.el[0].style[Helpers.transform],o=n.el[0].style[Helpers.transition],n.el[0].style[Helpers.transform]+=" scale(0.9)",n.el[0].style[Helpers.transition]+="none",r(window).one(t,function(){return n.el[0].style[Helpers.transform]=e,n.el[0].style[Helpers.transition]=o})}),n.innerLabelEl.on("click",function(t){return e.apply(n.el,[t])}),n.el.addClass("clickable"))},n.el},e.prototype.innerLabel=function(e){return this.innerLabelEl.empty().append(e),this.el},e.prototype.outerLabel=function(e,t){var n;return null==t&&(t="auto"),this.direction=t,this.el.direction=t,n=r("<div>").addClass("text").append(e),this.outerLabelEl.empty().append(n),this.el},e.prototype.color=function(e){return this.el.css("background-color",e),this.el.find(".triangle").css("border-left-color",e),this.el},e}(),t.exports=o},{}],4:[function(e,t,n){t.exports={transform:function(){var e,t,n;e=document.createElement("fakeelement"),n={transform:"transform",OTransform:"-o-transform",MozTransform:"-moz-transform",WebkitTransform:"-webkit-transform",msTransform:"-ms-transform"};for(t in n)if(null!=e.style[t])return n[t];return!1}(),transition:function(){var e,t,n;e=document.createElement("fakeelement"),n={transition:"transition",OTransition:"-o-transition",MozTransition:"-moz-transition",WebkitTransition:"-webkit-transition"};for(t in n)if(null!=e.style[t])return n[t];return!1}(),transitionEvent:function(){var e,t,n;e=document.createElement("fakeelement"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in n)if(null!=e.style[t])return n[t];return!1}(),animationEvent:function(){var e,t,n;t=document.createElement("fakeelement"),e={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(n in e)if(null!=t.style[n])return e[n];return!1}(),arcFn:function(e,t){var n,r,o,s;return r=10,o=e*Math.PI/180,n=Math.pow(10,r),s=Math[t](o),s=Math.round(s*n)/n},sin:function(e){return Helpers.arcFn(e,"sin")},cos:function(e){return Helpers.arcFn(e,"cos")},deg2coords:function(e){var t,n;return n=Helpers.sin(e),t=Helpers.cos(e),[t,n]}}},{}],5:[function(e,t,n){var r=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};t.exports={transition:Helpers.transition!==!1,transform:Helpers.transform!==!1,touch:r.call(document.documentElement,"ontouchstart")>=0}},{}]},{},[1]);